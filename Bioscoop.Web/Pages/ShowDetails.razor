@page "/ShowDetails/{Id:int}"
@inherits ShowDetailsBase
@inject IStringLocalizer<Language> _localizer

@if (Show == null && ErrorMessage == null)
{
    <DisplaySpinner />
}
else if (ErrorMessage != null)
{
    <DisplayError ErrorMessage="@ErrorMessage"></DisplayError>
}
else
{
    <h1 class="mb-5">@_localizer["Show Details"]</h1>
    <div class="row">
        <div class="col-md-6 mb-4">
            <img class="img-fluid" src="@Show.MovieImageURL">
        </div>
        <div class="col-md-6">
            <h2>@Show.MovieTitle</h2>
            <p class="mb-4">@Show.MovieDescription</p>
            <p class="mb-4">
                <b>
                    <b>@_localizer["Date:"] @Show.StartDateTime.ToString("MM-dd-yyyy")</b>
                    <br>
                    <b>@_localizer["Start time:"] @Show.StartDateTime.ToString("HH:mm")</b>
                    <br>
                    <b>@_localizer["Playtime:"] @Show.MoviePlayTime @_localizer["minutes"]</b>
                    <br>
                    <b>@_localizer["Minimum age:"] @Show.MovieMinimumAge</b>
                    <br>
                    <b>@_localizer["Hall:"] @Show.RoomName - @_localizer["Wheelchair friendly:"] @Show.RoomWheelchairFriendly</b>
                </b>
            </p>
            
            <div> <!-- Button to get a ticket -->
                <button class="btn btn-success"
                    @onclick ="() => (AddTicket_ForShow(new TicketToAddDto{
                        ShowId = Show.Id,
                        Price = 9
                    }))">
                    <b>@_localizer["Get ticket!"]</b>
                </button>
            </div>
        </div>
    </div>
}