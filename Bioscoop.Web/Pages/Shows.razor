@page "/"
@inherits ShowsBase

@if (Shows == null && ErrorMessage == null)
{
    <DisplaySpinner />
}
else if (ErrorMessage != null)
{
    <h3 class="text-danger">@ErrorMessage</h3>
}
else
{
    <h1 class="mb-5">Shows</h1>

    var showCount = Shows.Count();

    @if (showCount > 0)
    {
        const int showsPerRow = 4;
        var showRowList = new List<ShowDto>();

        @for (int i = 0; i < showCount; i++)
        {
            showRowList = Shows.Skip(i * showsPerRow).Take(showsPerRow).ToList();

            <div class=" row mt-3">

                <DisplayShows Shows="@showRowList"></DisplayShows>

            </div>
        }
    }

}